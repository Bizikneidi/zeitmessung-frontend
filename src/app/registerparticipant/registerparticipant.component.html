<div class="container">
  <div class="row justify-content-center align-items-center">
    <div class="card col-11 col-md-10 shadow">
      <div class="card-body">
        <div class="row">
          <div class="col-1">
            <fa-icon [icon]="icon"></fa-icon>
          </div>
          <div class="col-11 col-md-8">
            <div>
              <h2>Participant</h2>
              <sub>Fill in the form to register for the run</sub>
              <form #registerform="ngForm" (ngSubmit)="register()">
                <table>
                  <tr>
                    <th><input type="text" class="form-control" [ngClass]="firstName.errors && (firstName.touched || firstName.dirty) ? 'has-error' : 'x'" name="firstName" placeholder="first name"
                               [(ngModel)]="participant.Firstname" #firstName="ngModel" required [pattern]="'^([A-ZÄÜÖ][a-zäüö]+)([ ][A-ZÄÜÖ][a-zäüö]+)*$'">
                    </th>
                    <th><input type="text" class="form-control" [ngClass]="lastName.errors && (lastName.touched || lastName.dirty) ? 'has-error' : 'x'" name="lastName" placeholder="last name"
                               [(ngModel)]="participant.Lastname" #lastName="ngModel" required [pattern]="'^[A-ZÄÜÖ][a-zäüö]+(-[A-ZÄÜÖ][a-zäüö]+)?$'"></th>
                  </tr>
                  <tr>
                    <th>
                      <p>Sex</p>

                      <label class="radio">m
                        <input type="radio" name="sex" [checked]="participant.Sex === 'm'" (change)="changeSex('m')">
                        <span class="checkmark"></span>
                      </label>
                      <label class="radio">f
                        <input type="radio" name="sex" [checked]="participant.Sex === 'w'" (change)="changeSex('w')">
                        <span class="checkmark"></span>
                      </label>
                      <label class="radio">o
                        <input type="radio" name="sex" [checked]="participant.Sex === 'o'" (change)="changeSex('o')">
                        <span class="checkmark"></span>
                      </label>
                    </th>
                    <th><input type="number" min="1920" max="3000" class="form-control" name="dob"
                               placeholder="year of birth" [(ngModel)]="participant.YearGroup"></th>
                  </tr>
                  <tr>
                    <th>
                      <select name="nationality" class="minimal" [(ngModel)]="participant.Nationality">
                        <option selected="selected" id="selectstandard" [ngValue]="nationality" disabled>nationality
                        </option>

                        <option *ngFor="let country of countryList" [ngValue]="country.ISO">{{country.Name}}</option>
                      </select>
                    </th>
                    <th><input type="text" class="form-control" [ngClass]="city.errors && (city.touched || city.dirty) ? 'has-error' : 'x'" name="city" placeholder="city"
                               [(ngModel)]="participant.City" #city="ngModel" required [pattern]="'^([A-ZÄÜÖ][a-zäüö]+)([- \.\/][A-ZÄÜÖ][a-zäüö]+)*$'"></th>
                  </tr>
                  <tr>
                    <th><input type="text" class="form-control" [ngClass]="street.errors && (street.touched || street.dirty) ? 'has-error' : 'x'" name="street" placeholder="street"
                               [(ngModel)]="participant.Street" #street="ngModel" required [pattern]="'^([A-ZÄÜÖ][a-zäüö]+)([- \.\/][A-ZÄÜÖ][a-zäüö]+)*$'"></th>

                    <th><input type="text" class="form-control" [ngClass]="postalCode.errors && (postalCode.touched || postalCode.dirty) ? 'has-error' : 'x'" name="postalCode" placeholder="postalcode"
                               [(ngModel)]="participant.PostalCode" #postalCode="ngModel" required [pattern]="'^([A-ZÄÜÖa-zäüö0-9-:\/]+)$'"></th>
                  </tr>

                  <tr>
                    <th><input type="text" class="form-control" [ngClass]="housenumber.errors && (housenumber.touched || housenumber.dirty) ? 'has-error' : 'x'" name="housenumber" placeholder="house number"
                               [(ngModel)]="participant.HouseNumber" #housenumber="ngModel" required [pattern]="'^([A-ZÄÜÖa-zäüö0-9\/])+$'"></th>

                    <th><input type="text" class="form-control" [ngClass]="team.errors && (team.touched || team.dirty) ? 'has-error' : 'x'" name="team" placeholder="team"
                               [(ngModel)]="participant.Team" #team="ngModel" required></th>
                  </tr>
                  <tr>
                    <th><input type="email" class="form-control" [ngClass]="mail.errors && (mail.touched || mail.dirty) ? 'has-error' : 'x'" name="email" placeholder="email"
                               [(ngModel)]="participant.Email" #mail="ngModel" required email="true"></th>

                    <th><input type="text" class="form-control" name="phone" [ngClass]="phone.errors && (phone.touched || phone.dirty) ? 'has-error' : 'x'" placeholder="phone"
                               [(ngModel)]="participant.PhoneNumber" #phone="ngModel"required [pattern]="'^[+]*[(]{0,1}[0-9]{1,4}[)]{0,1}[-\s\./0-9]*$'"></th>
                  </tr>
                </table>


                <label class="radio">I accept the data agreement
                  <input type="radio" name="agreement" value="true">
                  <span class="checkmark"></span>
                </label><br>

                <div class="card-link"><a href="#" class="card-link mt-5" (click)="register()" [ngClass]="registerform.valid ? 'x' : 'form-invalid'">REGISTER ➜</a></div>
              </form>
            </div>
          </div>
        </div>
        <div class="col-md-3"></div>
        <div class="card-footer"></div>
      </div>
    </div>
  </div>
</div>
